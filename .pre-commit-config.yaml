fail_fast: false
repos:
  - repo: local
    hooks:
      - id: gateway-infrastructure-build
        name: Gateway Infrastructure Build
        entry: cmd.exe /c mvnw.cmd
        args: [ "-f", "infrastructure/gateway/pom.xml", "-am", "clean", "install" ]
        language: system
        files: ^infrastructure/gateway
        require_serial: true
        pass_filenames: false

      - id: platform-build
        name: Platform Parent Build (Skip tests)
        entry: cmd.exe /c mvnw.cmd
        args: [ "-f", "platform/pom.xml", "-am", "clean", "install", "-DskipTests" ]
        language: system
        exclude: \.(ya?ml|md)$
        require_serial: true
        pass_filenames: false

      - id: app-test
        name: App Module Test
        entry: cmd.exe /c mvnw.cmd
        args: [ "-f", "platform/app/pom.xml", "-am", "clean", "test" ]
        language: system
        files: ^platform/app
        require_serial: true
        pass_filenames: false

      - id: category-test
        name: Category Module Test
        entry: cmd.exe /c mvnw.cmd
        args: [ "-f", "platform/category/pom.xml", "-am", "clean", "test" ]
        language: system
        files: ^platform/category
        require_serial: true
        pass_filenames: false

      - id: config-test
        name: Config Module Test
        entry: cmd.exe /c mvnw.cmd
        args: [ "-f", "platform/config/pom.xml", "-am", "clean", "test" ]
        language: system
        files: ^platform/config
        require_serial: true
        pass_filenames: false

      - id: identity-test
        name: Identity Module Test
        entry: cmd.exe /c mvnw.cmd
        args: [ "-f", "platform/identity/pom.xml", "-am", "clean", "test" ]
        language: system
        files: ^platform/identity
        require_serial: true
        pass_filenames: false

      - id: inbox-test
        name: Inbox Module Test
        entry: cmd.exe /c mvnw.cmd
        args: [ "-f", "platform/inbox/pom.xml", "-am", "clean", "test" ]
        language: system
        files: ^platform/inbox
        require_serial: true
        pass_filenames: false

      - id: inventory-test
        name: Inventory Module Test
        entry: cmd.exe /c mvnw.cmd
        args: [ "-f", "platform/inventory/pom.xml", "-am", "clean", "test" ]
        language: system
        files: ^platform/inventory
        require_serial: true
        pass_filenames: false

      - id: outbox-test
        name: Outbox Module Test
        entry: cmd.exe /c mvnw.cmd
        args: [ "-f", "platform/outbox/pom.xml", "-am", "clean", "test" ]
        language: system
        files: ^platform/outbox
        require_serial: true
        pass_filenames: false

      - id: price-test
        name: Price Module Test
        entry: cmd.exe /c mvnw.cmd
        args: [ "-f", "platform/price/pom.xml", "-am", "clean", "test" ]
        language: system
        files: ^platform/price
        require_serial: true
        pass_filenames: false

      - id: product-test
        name: Product Module Test
        entry: cmd.exe /c mvnw.cmd
        args: [ "-f", "platform/product/pom.xml", "-am", "clean", "test" ]
        language: system
        files: ^platform/product
        require_serial: true
        pass_filenames: false

      - id: shared-test
        name: Shared Module Test
        entry: cmd.exe /c mvnw.cmd
        args: [ "-f", "platform/shared/pom.xml", "-am", "clean", "test", ]
        language: system
        files: ^platform/shared
        require_serial: true
        pass_filenames: false